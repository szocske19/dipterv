<html>
<head>
    <script type="text/javascript" src="Jsonix-all.js"></script>
    <script type="text/javascript" src="config/ecore.js"></script>
    <script src="config/cps.ecore.xsd"></script>
    <script type="text/javascript">
		mxBasePath = '../javascript/src';
	</script>
    <script type="text/javascript" src="../javascript/src/js/mxClient.js"></script>
    <script type="text/javascript">
    

    function main(container) {       
        // First we construct a Jsonix context - a factory for unmarshaller (parser)
        // and marshaller (serializer)
        var context = new Jsonix.Context([ecore]);

        // Then we create a unmarshaller
        var unmarshaller = context.createUnmarshaller();

        // Unmarshal an object from the XML retrieved from the URL
        unmarshaller.unmarshalURL('config/cps.ecore.xsd',
        // This callback function will be provided with the result
        // of the unmarshalling
        function (unmarshalled) {
            var unmarshalledJS = document.getElementById('unmarshalledJS');
            unmarshalledJS.innerHTML = JSON.stringify(unmarshalled, null, 2);

            unmarshalled_eCore = unmarshalled;
            return;
        });
    }
    </script>
    </head>
<body onload="main()">
    <pre id="unmarshalledJS"></pre>
</body>
</html>